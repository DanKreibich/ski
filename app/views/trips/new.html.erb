<div class="wrapper">
  <div class="user-booking-info">
    <div class="booking-photo-name">
      <%= image_tag ("#{@instructor.avatar}"), with: "25px;", height: "25px;", class: "booking-instructor-photo" %>
      <div class="booking-instructor-block">
        <p class="booking-instructor-name"><%= @instructor.first_name %> <%= @instructor.last_name %></p>
        <p class="booking-instructor-resort"><%= @instructor.resort %></p>
      </div>
    </div>
    <div class="booking-price">
      <p class="booking-total-price">€1200</p>
      <div class="multiply-price-block">
        <p class="booking-num-sessions">12</p>
        <p class="multiply">x</p>
        <p class="booking-one-session-price">€50</p>
      </div>
    </div>
  </div>
</div>
<%= @sessions %> <br>
<%= booking_column_date = @sessions[0][0].start %>
<%= booking_column_date.day %> <br>
<%= booking_column_date.month %> <br>
<%= booking_column_date.hour %> <br>
<%= booking_column_date.year %> <br>
<%= booking_column_date.min %> <br>
<%= booking_column_date %> <br>
<br>

<div class="booking-table-wrapper">
  <div class="booking-table-container">
    <div class="booking-table">
      <div class="hour-block">
        <p>09:00-10:00</p>
        <p>10:00-11:00</p>
        <p>11:00-12:00</p>
        <p>12:00-13:00</p>
        <p>13:00-14:00</p>
        <p>14:00-15:00</p>
        <p>15:00-16:00</p>
      </div>


    <% counter = 0 %>
    <% while counter < 7 do %>
      <% booking_column_booking_column_date = booking_column_date.today + counter %>
      <div class="booking-booking_column_date-day">
        <div class="booking-booking_column_date">
          <p class="booking_column_date"><%= booking_column_booking_column_date.day %></p>
          <p class="day-of-week"><%= booking_column_booking_column_date.strftime('%A') %></p>
        </div>

        <% if booking_column_date.hour == 9 %>
          <div class="booking-slot booked" id="booked" data-set-timeslot="9"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="9"></div>
        <% end %>
        <% if booking_column_date.hour == 10 %>
          <div class="booking-slot booked" id="booked" data-set-timeslot="10"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="10"></div>
        <% end %>
        <% if booking_column_date.hour == 11 %>
          <div class="booking-slot booked" id="booked" data-set-timeslot="11"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="11"></div>
        <% end %>
        <% if booking_column_date.hour == 12 %>
          <div class="booking-slot booked" id="booked" data-set-timeslot="12"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="12"></div>
        <% end %>
        <% if booking_column_date.hour == 13 %>
          <div class="booking-slot booked" id="booked" data-set-timeslot="13"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="13"></div>
        <% end %>
        <% if booking_column_date.hour == 14 %>
          <div class="booking-slot booked" data-set-timeslot="14"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="14"></div>
        <% end %>
        <% if booking_column_date.hour == 15 %>
          <div class="booking-slot booked"  data-set-timeslot="15"></div>
        <% else %>
          <div class="booking-slot" data-set-timeslot="15"></div>
        <% end %>
      </div>



      <% counter += 1 %>
    <% end %>
    </div>
  </div>
</div>
<!-- Open: Generate table with max 7 days per page given: a starting booking_column_date, an end booking_column_date  -->
<!-- Open: Display different color and make selectable vs. non selectable for each box -->
<!-- Open: Array called Sessions of Start/End booking_column_datetimes -->
<!-- Open: Make sure unselect deletes session from Session array -->
<!-- Open: Dynamic price changes -->


<div class="container" style="display: flex">

<% def generate_table(booking_column_date_range) %>
  <% booking_column_date_range = (booking_column_date_range.begin.to_booking_column_date .. booking_column_date_range.end.to_booking_column_date) %>
  <% booking_column_date_range.each do |booking_column_date| %>
    <div style="padding-right: 25px;"> <p> <%=booking_column_date%> </p>
      <!-- Loop over timeslots of 1 hour -->
      <!-- Check if match for (booking_column_date + timeslot) in Session table "2020-01-31 10:00:00".to_booking_column_datetime -->
      <!-- If false, make clickable and lovely, if true make horrible and not selectable-->
      <div class="box" id='<%= booking_column_date %> 9:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 10:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 11:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 12:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 13:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 14:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 15:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 16:00:00'>x</div>
      <div class="box" id='<%= booking_column_date %> 17:00:00'>x</div>
    </div>
  <% end %>
<% end %>

<% generate_table(7.days.ago .. 0.days.ago) %>


<!-- Open: create Continue button to create the trip -->


